#Howto Install

```
#Download ISO from 
https://www.qubes-os.org/doc/installation-guide/

# Verify Download
sha256sum Qubes-R4.0-x86_64.iso
# Burn ISO
sudo dd if=Qubes-R3-x86_64.iso of=/dev/sdX bs=1M && sync


- Run installer and make a full disk installation choosing 9l"make more space available" during setup
- after the reboot part and in part 2  the installation disable "create default application qubes". Takes ~10min


=============
 Basics dom0
=============
# Disable graphical boot in GRUB
sudo sed -i 's/GRUB_TERMINAL_OUTPUT/###GRUB_TERMINAL_OUTPUT/' /etc/default/grub
sudo sed -i '/###GRUB_TERMINAL_OUTPUT/a GRUB_TERMINAL=console' /etc/default/grub
sudo sed -i 's/rhgb quiet/quiet/' /etc/default/grub

GRUB configuration in /etc/default/grub should look like

GRUB_TIMEOUT=5
GRUB_DISTRIBUTOR="$(sed 's, release .*$,,g' /etc/system-release)"
GRUB_DEFAULT=saved
GRUB_DISABLE_SUBMENU=true
GRUB_TERMINAL_OUTPUT="gfxterm"
GRUB_CMDLINE_LINUX="rd.luks.uuid=luks-38e718b4-c059-4b12-aa2b-11d894e474c4 rd.lvm.lv=qubes_dom0/root rd.lvm.lv=qubes_dom0/swap i915.preliminary_hw_support=1 rhgb quiet"
GRUB_CMDLINE_XEN_DEFAULT="console=none dom0_mem=min:1024M dom0_mem=max:4096M iommu=no-igfx"
GRUB_DISABLE_RECOVERY="true"
GRUB_THEME="/boot/grub2/themes/system/theme.txt"
GRUB_DISABLE_OS_PROBER="true"
GRUB_CMDLINE_LINUX="$GRUB_CMDLINE_LINUX rd.qubes.hide_all_usb"

Update Grub

sudo grub2-mkconfig -o /boot/grub2/grub.cfg


# Install tools in dom0
sudo qubes-dom0-update git mc xclip meld

- git = version control
- mc = Midnight Commander for CLI file handling & operations 
- xclip = work with the clipboard between dom0 & app-VMs
- meld = file & folder comparison (GUI)

# install powertop and tlp to optimize battery runtime

qubes-dom0-update tlp powertop

Run the following command on startup

sudo tlp bat && sudo powertop --auto-tune


# Install Fedora minimal template
sudo qubes-dom0-update qubes-template-fedora-30-minimal

# Disable Autostart of Whonix
qvm-prefs --set sys-whonix autostart False

# Fix time manually if needed
# set time in sys-net-vm
qvm-run --auto --user root --pass-io --no-gui sys-net 'sudo date +%T -s "00:30:05"'
# sync time from netvm to dom0
sudo qvm-sync-clock 

